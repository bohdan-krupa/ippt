(function(e){function t(t){for(var a,s,o=t[0],u=t[1],c=t[2],p=0,d=[];p<o.length;p++)s=o[p],i[s]&&d.push(i[s][0]),i[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},i={app:0},r=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0cfb":function(e,t,n){},1971:function(e,t,n){},5121:function(e,t,n){"use strict";var a=n("a6be"),i=n.n(a);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Repair of machines")]),n("router-view"),n("notifications",{attrs:{position:"top right"}})],1)},r=[],s=(n("cf25"),n("2877")),o={},u=Object(s["a"])(o,i,r,!1,null,null,null),c=u.exports,l=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("router-link",{attrs:{to:"/sign-in"}},[e._v("Sign in")]),n("router-link",{attrs:{to:"/sign-up"}},[e._v("Sign up")])],1)},d=[],m=(n("5121"),{}),v=Object(s["a"])(m,p,d,!1,null,null,null),h=v.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("p",[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("p",[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onSignIn}},[e._v("Sign in")])])},g=[],_=(n("a481"),n("251e")),w=n.n(_),y={toast:a["default"].mixin({methods:{success:function(e){this.$notify({title:e,type:"success"})},warn:function(e){this.$notify({title:e,type:"warn"})},error:function(e){this.$notify({title:e,type:"error"})}}})},b={data:function(){return{email:null,password:null}},mixins:[y],methods:{onSignIn:function(){var e=this;this.email&&this.password.length>5&&w.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(){e.success("You are logged in"),e.$router.replace("/client")},function(t){e.error(t.message)})}}},k=b,x=Object(s["a"])(k,f,g,!1,null,null,null),$=x.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.loading?e._e():n("div",[n("p",[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:{green:e.isGood.email},attrs:{type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("p",[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:{green:e.isGood.password},attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("p",[e._v("Password once again")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],class:{green:e.isGood.password2},attrs:{type:"password"},domProps:{value:e.password2},on:{input:function(t){t.target.composing||(e.password2=t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onSignUp}},[e._v("Sign up")])]),e.loading?n("div",[n("h3",[e._v("Loading...")])]):e._e()])},O=[],C={data:function(){return{loading:!1,email:null,password:null,password2:null,isGood:{email:!1,password:!1,password2:!1}}},watch:{email:function(e){var t=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;this.isGood.email=t.test(e)?1:0},password:function(e){var t=/^(?=.*[0-9]+.*)(?=.*[a-zA-Z]+.*)[0-9a-zA-Z]{6,}$/;this.isGood.password=t.test(e)?1:0,this.isGood.password2=this.isGood.password&&e==this.password2?1:0},password2:function(e){this.isGood.password2=this.isGood.password&&this.password==e?1:0}},mixins:[y],methods:{onSignUp:function(){var e=this;this.isGood.email&&this.isGood.password&&this.isGood.password2&&(this.loading=!0,w.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(){e.success("You are registered"),e.$router.replace("/")},function(t){e.error(t.message),e.loading=!1}))}}},S=C,j=(n("6d39"),Object(s["a"])(S,P,O,!1,null,null,null)),G=j.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("router-link",{staticClass:"sign-btn",attrs:{to:"/client/new-repair"}},[e._v("Ask for repair")]),n("router-link",{staticClass:"sign-btn",attrs:{to:"/client/my-repairs"}},[e._v("My tasks")])],1),n("div",{staticClass:"bottom-right-btn",on:{click:e.onSignOut}},[e._v("Sign out")])])},N=[],I={data:function(){return{}},methods:{onSignOut:function(){var e=this;w.a.auth().signOut().then(function(){e.$notify({title:"You are logged out",type:"success"}),e.$router.replace("/")},function(t){e.$notify({title:t.message,type:"error"})})}}},D=I,R=Object(s["a"])(D,E,N,!1,null,null,null),A=R.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("p",[e._v("Країна-виробник")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.country,expression:"country"}],attrs:{type:"text"},domProps:{value:e.country},on:{input:function(t){t.target.composing||(e.country=t.target.value)}}}),n("p",[e._v("Рік випуску")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],attrs:{type:"number",min:"1980"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),n("p",[e._v("Марка")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.mark,expression:"mark"}],attrs:{type:"text"},domProps:{value:e.mark},on:{input:function(t){t.target.composing||(e.mark=t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onDone}},[e._v("Готово")])]),n("div",{staticClass:"bottom-right-btn",on:{click:e.onBack}},[e._v("Back")])])},B=[],U={data:function(){return{country:null,year:null,mark:null,uId:null,email:null}},mixins:[y],created:function(){var e=w.a.auth().currentUser;e&&(this.uId=e.uid,this.email=e.email)},methods:{onDone:function(){var e=this;this.country&&this.year&&this.mark?(this.success("Loading..."),w.a.database().ref("clients/"+this.uId).once("value",function(t){var n={country:e.country,year:e.year,mark:e.mark};t.val()?e.pushRepair(n):w.a.database().ref("clients/"+e.uId).set({email:e.email}).then(function(){e.pushRepair(n)},function(t){e.error(t.message)})})):this.warn("Data is incorrect")},pushRepair:function(e){var t=this;w.a.database().ref("clients/"+this.uId+"/machines").push().set(e).then(function(){t.$router.replace("/client"),t.success("Done")},function(e){t.error(e.message)})},onBack:function(){this.$router.go(-1)}}},T=U,Z=Object(s["a"])(T,M,B,!1,null,null,null),z=Z.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},e._l(e.machines,function(t,a){return n("div",{key:a},[n("p",[e._v("Machine:")]),n("h4",[e._v(e._s(t.country))]),n("h4",[e._v(e._s(t.year))]),n("h4",[e._v(e._s(t.mark))])])}),0),n("div",{staticClass:"bottom-right-btn",on:{click:e.onBack}},[e._v("Back")])])},W=[],Y={data:function(){return{machines:[]}},mixins:[y],created:function(){var e=this;this.success("Loading..."),w.a.auth().onAuthStateChanged(function(t){w.a.database().ref("clients/"+t.uid+"/machines").once("value",function(t){var n=t.val(),a=[];for(machine in n)a.push(n[machine]);e.machines=a,e.success("Done")})})},methods:{onBack:function(){this.$router.go(-1)}}},J=Y,K=Object(s["a"])(J,L,W,!1,null,null,null),V=K.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("p",[e._v("Clients:")]),e._l(e.clients,function(t,a){return n("router-link",{key:a,staticClass:"sign-btn",attrs:{to:"/manager/"+t.id}},[e._v(e._s(t.email))])})],2)},q=[],F={data:function(){return{clients:[]}},created:function(){var e=this;w.a.database().ref("clients").once("value",function(t){var n=t.val(),a=[];for(var i in n)a.push({id:i,email:n[i].email});e.clients=a})}},H=F,Q=Object(s["a"])(H,X,q,!1,null,null,null),ee=Q.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("p",[e._v("User: "+e._s(e.email))]),n("p",[e._v("Repairs:")]),e._l(e.machines,function(t,a){return n("div",{key:a},[n("p",[e._v("Machine:")]),n("h4",[e._v(e._s(t.country))]),n("h4",[e._v(e._s(t.year))]),n("h4",[e._v(e._s(t.mark))])])})],2)},ne=[],ae={data:function(){return{machines:[],email:null}},created:function(){var e=this,t=this.$route.params.id;w.a.database().ref("clients"+t).once("value",function(t){var n=t.val();e.machines=n.repairs,e.email=n.email})}},ie=ae,re=Object(s["a"])(ie,te,ne,!1,null,null,null),se=re.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("p",[e._v("Machine:")]),n("h4",[e._v(e._s(e.machine.country))]),n("h4",[e._v(e._s(e.machine.year))]),n("h4",[e._v(e._s(e.machine.mark))]),n("p",[e._v("* Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repair.name,expression:"repair.name"}],attrs:{type:"text"},domProps:{value:e.repair.name},on:{input:function(t){t.target.composing||e.$set(e.repair,"name",t.target.value)}}}),n("p",[e._v("* Duration (days):")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repair.duration,expression:"repair.duration"}],attrs:{type:"number"},domProps:{value:e.repair.duration},on:{input:function(t){t.target.composing||e.$set(e.repair,"duration",t.target.value)}}}),n("p",[e._v("* Price ($):")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repair.price,expression:"repair.price"}],attrs:{type:"number"},domProps:{value:e.repair.price},on:{input:function(t){t.target.composing||e.$set(e.repair,"price",t.target.value)}}}),n("p",[e._v("Notes:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repair.notes,expression:"repair.notes"}],attrs:{type:"text"},domProps:{value:e.repair.notes},on:{input:function(t){t.target.composing||e.$set(e.repair,"notes",t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onSetRepairType}},[e._v("Готово")])])},ue=[],ce=(n("7f7f"),{data:function(){return{machine:{country:null,year:null,mark:null},repair:{name:null,duration:null,price:null,notes:null}}},created:function(){var e=this,t=this.$route.params.client,n=this.$route.params.machine;w.a.database().ref("clients/"+t+"/machines/"+n).once("value",function(t){e.machine=t.val()})},methods:{onSetRepairType:function(){var e=this;this.repair.name&&this.repair.duration&&this.repair.price&&w.a.database().ref("clients/"+client+"/repairs").push().set({name:this.repair.name,duration:this.repair.duration,price:this.repair.price,notes:this.repair.notes}).then(function(){e.success("Done")},function(t){e.error(t.message)})}}}),le=ce,pe=Object(s["a"])(le,oe,ue,!1,null,null,null),de=pe.exports;a["default"].use(l["a"]);var me=new l["a"]({routes:[{path:"/",component:h},{path:"/sign-in",component:$},{path:"/sign-up",component:G},{path:"/client",component:A},{path:"/client/new-repair",component:z},{path:"/client/my-repairs",component:V},{path:"/manager",component:ee},{path:"/manager/:id",component:se},{path:"/set-repair-type/:client/:machine",component:de}]}),ve=n("ee98"),he=n.n(ve);a["default"].use(he.a);var fe={apiKey:"AIzaSyC4U1gX8DoZGmywRO2KP4iZDtmeVuGWZ28",authDomain:"machines-5bc18.firebaseapp.com",databaseURL:"https://machines-5bc18.firebaseio.com",projectId:"machines-5bc18",storageBucket:"machines-5bc18.appspot.com",messagingSenderId:"1081596877438"};w.a.initializeApp(fe),a["default"].config.productionTip=!1,new a["default"]({router:me,render:function(e){return e(c)}}).$mount("#app")},"6d39":function(e,t,n){"use strict";var a=n("1971"),i=n.n(a);i.a},a6be:function(e,t,n){},cf25:function(e,t,n){"use strict";var a=n("0cfb"),i=n.n(a);i.a}});
//# sourceMappingURL=app.330a0ece.js.map