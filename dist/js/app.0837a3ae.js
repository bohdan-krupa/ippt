(function(e){function t(t){for(var a,s,o=t[0],c=t[1],p=t[2],u=0,d=[];u<o.length;u++)s=o[u],r[s]&&d.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,p||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var p=0;p<o.length;p++)t(o[p]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0cfb":function(e,t,n){},1971:function(e,t,n){},"46b4":function(e,t,n){},"477b":function(e,t,n){"use strict";var a=n("46b4"),r=n.n(a);r.a},5121:function(e,t,n){"use strict";var a=n("a6be"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Ремонт станків")]),n("router-view"),n("notifications",{attrs:{position:"top right"}})],1)},i=[],s=(n("cf25"),n("2877")),o={},c=Object(s["a"])(o,r,i,!1,null,null,null),p=c.exports,l=n("8c4f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("router-link",{attrs:{to:"/sign-in"}},[e._v("Вхід")]),n("router-link",{attrs:{to:"/sign-up"}},[e._v("Реєстрація")])],1)},d=[],v=(n("5121"),{}),m=Object(s["a"])(v,u,d,!1,null,null,null),h=m.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("form",[n("p",[e._v("Email:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("p",[e._v("Пароль:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onSignIn}},[e._v("Ввійти")])])]),n("BackBtn")],1)},_=[],y=(n("a481"),n("251e")),g=n.n(y),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"right-bottom-btn"},on:{click:e.onBack}},[e._v("Назад")])},b=[],I={methods:{onBack:function(){this.$router.go(-1)}}},T=I,k=(n("477b"),Object(s["a"])(T,w,b,!1,null,null,null)),x=k.exports,$={toast:a["default"].mixin({methods:{success:function(e){this.$notify({title:e,type:"success"})},warn:function(e){this.$notify({title:e,type:"warn"})},error:function(e){this.$notify({title:e,type:"error"})}}})},B={data:function(){return{email:null,password:null}},methods:{onSignIn:function(){var e=this;this.email&&this.password.length>5&&g.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(t){e.success("Ви успішно ввійшли"),"3IVvDzvpurMJA1iwt9Y8igdoYyJ2"==t.uid?e.$router.replace("/manager"):e.$router.replace("/client")},function(t){e.error(t.message)})}},components:{BackBtn:x},mixins:[$]},O=B,C=Object(s["a"])(O,f,_,!1,null,null,null),P=C.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[e.loading?e._e():n("div",[n("form",[n("p",[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:{green:e.isGood.email},attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("p",[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:{green:e.isGood.password},attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("p",[e._v("Password once again")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],class:{green:e.isGood.password2},attrs:{type:"password"},domProps:{value:e.password2},on:{input:function(t){t.target.composing||(e.password2=t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onSignUp}},[e._v("Sign up")])])]),e.loading?n("div",[n("h3",[e._v("Loading...")])]):e._e()]),n("BackBtn")],1)},S=[],E={data:function(){return{loading:!1,email:null,password:null,password2:null,isGood:{email:!1,password:!1,password2:!1}}},watch:{email:function(e){var t=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;this.isGood.email=t.test(e)?1:0},password:function(e){var t=/^(?=.*[0-9]+.*)(?=.*[a-zA-Z]+.*)[0-9a-zA-Z]{6,}$/;this.isGood.password=t.test(e)?1:0,this.isGood.password2=this.isGood.password&&e==this.password2?1:0},password2:function(e){this.isGood.password2=this.isGood.password&&this.password==e?1:0}},methods:{onSignUp:function(){var e=this;this.isGood.email&&this.isGood.password&&this.isGood.password2&&(this.loading=!0,g.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(){e.success("You are registered"),e.$router.replace("/")},function(t){e.error(t.message),e.loading=!1}))}},components:{BackBtn:x},mixins:[$]},G=E,D=(n("6d39"),Object(s["a"])(G,j,S,!1,null,null,null)),N=D.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("p"),n("router-link",{staticClass:"sign-btn",attrs:{to:"/client/new-repair"}},[e._v("Звернутись за ремонтом")]),n("router-link",{staticClass:"sign-btn",attrs:{to:"/client/my-repairs"}},[e._v("Мої ремонти")])],1),n("div",{attrs:{id:"right-bottom-btn"},on:{click:e.onSignOut}},[e._v("Вийти")])])},A=[],U={mixins:[$],methods:{onSignOut:function(){var e=this;g.a.auth().signOut().then(function(){e.success("Ви успішно вийшли"),e.$router.replace("/")},function(t){e.error(t.message)})}}},z=U,M=Object(s["a"])(z,R,A,!1,null,null,null),Z=M.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("p",[e._v("* Країна-виробник:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.country,expression:"country"}],attrs:{type:"text"},domProps:{value:e.country},on:{input:function(t){t.target.composing||(e.country=t.target.value)}}}),n("p",[e._v("* Рік випуску:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],attrs:{type:"number",min:"1980"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),n("p",[e._v("* Марка:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.mark,expression:"mark"}],attrs:{type:"text"},domProps:{value:e.mark},on:{input:function(t){t.target.composing||(e.mark=t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onDone}},[e._v("Звернутись за ремонтом")])]),n("BackBtn")],1)},W=[],L={data:function(){return{uId:null,email:null,country:null,year:null,mark:null}},mixins:[$],created:function(){var e=g.a.auth().currentUser;e&&(this.uId=e.uid,this.email=e.email)},methods:{onDone:function(){var e=this;if(this.country&&this.year&&this.mark){this.success("Loading...");var t={country:this.country,year:this.year,mark:this.mark};g.a.database().ref("clients/"+this.uId).once("value",function(n){n.val()?e.pushRepair(t):g.a.database().ref("clients/"+e.uId).set({email:e.email}).then(function(){e.pushRepair(t)},function(t){e.error(t.message)})})}else this.warn("Data is incorrect")},pushRepair:function(e){var t=this;g.a.database().ref("clients/"+this.uId+"/repaires").push().set({machineType:e,status:"Waiting for the repair type"}).then(function(){t.$router.replace("/client"),t.success("Done")},function(e){t.error(e.message)})}},components:{BackBtn:x}},Y=L,F=Object(s["a"])(Y,J,W,!1,null,null,null),K=F.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("h3",[e._v("Мої ремонти:")]),e._l(e.repaires,function(t,a){return n("div",{key:a},[n("hr"),n("p",[e._v("Статус: "+e._s(t.status))]),n("h4",[e._v("Вид станка:")]),n("p",[e._v("Країна: "+e._s(t.machineType.country))]),n("p",[e._v("Рік: "+e._s(t.machineType.year))]),n("p",[e._v("Марка: "+e._s(t.machineType.mark))]),t.repairType?n("div",[n("h4",[e._v("Вид ремонту:")]),n("p",[e._v("Назва ремонту: "+e._s(t.repairType.name))]),n("p",[e._v("Тривалість: "+e._s(t.repairType.duration)+" дн.")]),n("p",[e._v("Ціна: "+e._s(t.repairType.price)+" грн")]),t.repairType.notes?n("p",[e._v("Примітки: "+e._s(t.repairType.notes))]):e._e()]):e._e(),t.startDate?n("div",[n("h4",[e._v("Початок ремонту:")]),n("p",[e._v(e._s(t.startDate))])]):e._e(),t.notes?n("div",[n("h4",[e._v("Примітки:")]),n("p",[e._v(e._s(t.notes))])]):e._e(),"Очікування згоди"==t.status?n("div",{staticClass:"sign-btn",on:{click:function(n){return e.onAgree(t.repairId)}}},[e._v("Я погоджуюсь")]):e._e()])})],2),n("BackBtn")],1)},X=[],q=n("cebc"),H={data:function(){return{client:null,email:null,repaires:[]}},created:function(){var e=this;this.warn("Завантаження..."),this.client=g.a.auth().currentUser,this.client&&(g.a.database().ref("clients/".concat(this.client.uid)).on("value",function(t){var n=t.val();for(var a in e.email=n.email,e.repaires=[],n.repaires)e.repaires.push(Object(q["a"])({repairId:a},n.repaires[a]))}),this.success("Готово"))},methods:{onAgree:function(e){var t=this;this.warn("Завантаження...");var n="clients/".concat(this.client.uid,"/repaires/").concat(e,"/status");g.a.database().ref(n).set("Очікування початку ремонту").then(function(){t.success("Готово")},function(e){t.error(e.message)})}},components:{BackBtn:x}},Q=H,ee=Object(s["a"])(Q,V,X,!1,null,null,null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h4",[e._v("Клієнти:")]),e._l(e.clients,function(t,a){return n("router-link",{key:a,staticClass:"sign-btn",attrs:{to:"/manager/"+t.id}},[e._v(e._s(t.email))])})],2)},ae=[],re={data:function(){return{clients:[]}},created:function(){var e=this;this.warn("Завантаження..."),g.a.database().ref("clients").once("value",function(t){var n=t.val(),a=[];for(var r in n)a.push({id:r,email:n[r].email});e.clients=a,e.success("Готово")})},mixins:[$]},ie=re,se=Object(s["a"])(ie,ne,ae,!1,null,null,null),oe=se.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("h3",[e._v("Клієнт: "+e._s(e.email))]),n("h3",[e._v("Ремонти:")]),e._l(e.repaires,function(t,a){return n("div",{key:a},[n("hr"),n("p",[e._v("Статус: "+e._s(t.status))]),n("h4",[e._v("Вид станка:")]),n("p",[e._v("Країна: "+e._s(t.machineType.country))]),n("p",[e._v("Рік: "+e._s(t.machineType.year))]),n("p",[e._v("Марка: "+e._s(t.machineType.mark))]),t.repairType?n("div",[n("h4",[e._v("Вид ремонту:")]),n("p",[e._v("Назва ремонту: "+e._s(t.repairType.name))]),n("p",[e._v("Тривалість: "+e._s(t.repairType.duration)+" дн.")]),n("p",[e._v("Ціна: "+e._s(t.repairType.price)+" грн")]),t.repairType.notes?n("p",[e._v("Примітки: "+e._s(t.repairType.notes))]):e._e()]):e._e(),t.startDate?n("div",[n("h4",[e._v("Початок ремонту:")]),n("p",[e._v(e._s(t.startDate))])]):e._e(),t.notes?n("div",[n("h4",[e._v("Примітки:")]),n("p",[e._v(e._s(t.notes))])]):e._e(),"Очікування виду ремонту"==t.status?n("router-link",{staticClass:"sign-btn",attrs:{to:"/set-repair-type/"+e.clientId+"/"+t.repairId}},[e._v("Встановити вид ремонту")]):e._e(),"Очікування згоди"==t.status?n("router-link",{staticClass:"sign-btn",attrs:{to:"/set-repair-type/"+e.clientId+"/"+t.repairId}},[e._v("Редагувати вид ремонту")]):e._e(),"Очікування початку ремонту"==t.status?n("router-link",{staticClass:"sign-btn",attrs:{to:"/start-repair/"+e.clientId+"/"+t.repairId}},[e._v("Почати ремонт")]):e._e(),"На ремонті"==t.status?n("div",{staticClass:"sign-btn",on:{click:function(n){return e.onFinishRepair(t.repairId)}}},[e._v("Завершити ремонт")]):e._e()],1)})],2),n("BackBtn")],1)},pe=[],le={data:function(){return{clientId:null,email:null,repaires:[]}},created:function(){var e=this;this.warn("Завантаження..."),this.clientId=this.$route.params.clientId,g.a.database().ref("clients/".concat(this.clientId)).on("value",function(t){var n=t.val();for(var a in e.email=n.email,e.repaires=[],n.repaires)e.repaires.push(Object(q["a"])({repairId:a},n.repaires[a]))})},methods:{onFinishRepair:function(e){var t=this;this.warn("Завантаження...");var n="clients/".concat(this.clientId,"/repaires/").concat(e,"/status");g.a.database().ref(n).set("Ремонт завершено").then(function(){t.success("Готово")},function(e){t.error(e.message)})}},components:{BackBtn:x}},ue=le,de=Object(s["a"])(ue,ce,pe,!1,null,null,null),ve=de.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("h4",[e._v("Вид станка:")]),n("p",[e._v("Країна: "+e._s(e.machineType.country))]),n("p",[e._v("Рік: "+e._s(e.machineType.year))]),n("p",[e._v("Марка: "+e._s(e.machineType.mark))]),n("hr"),n("p",[e._v("* Назва ремонту:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repairType.name,expression:"repairType.name"}],attrs:{type:"text"},domProps:{value:e.repairType.name},on:{input:function(t){t.target.composing||e.$set(e.repairType,"name",t.target.value)}}}),n("p",[e._v("* Тривалість (дн.):")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repairType.duration,expression:"repairType.duration"}],attrs:{type:"number"},domProps:{value:e.repairType.duration},on:{input:function(t){t.target.composing||e.$set(e.repairType,"duration",t.target.value)}}}),n("p",[e._v("* Ціна (грн):")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repairType.price,expression:"repairType.price"}],attrs:{type:"number"},domProps:{value:e.repairType.price},on:{input:function(t){t.target.composing||e.$set(e.repairType,"price",t.target.value)}}}),n("p",[e._v("Примітки:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repairType.notes,expression:"repairType.notes"}],attrs:{type:"text"},domProps:{value:e.repairType.notes},on:{input:function(t){t.target.composing||e.$set(e.repairType,"notes",t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onSetRepairType}},[e._v("Готово")])]),n("BackBtn")],1)},he=[],fe=(n("7f7f"),{data:function(){return{clientId:null,repairId:null,machineType:{country:null,year:null,mark:null},repairType:{name:null,duration:null,price:null,notes:null}}},created:function(){var e=this;this.clientId=this.$route.params.clientId,this.repairId=this.$route.params.repairId;var t="clients/".concat(this.clientId,"/repaires/").concat(this.repairId,"/machineType");g.a.database().ref(t).once("value",function(t){e.machineType=t.val()})},methods:{onSetRepairType:function(){var e=this;if(this.repairType.name&&this.repairType.duration&&this.repairType.price){this.warn("Завантаження...");var t="clients/".concat(this.clientId,"/repaires/").concat(this.repairId);g.a.database().ref(t).update({status:"Очікування виду ремонту",repairType:this.repairType}).then(function(){e.$router.replace("/manager/"+e.clientId)},function(t){e.error(t.message)})}else this.error("Невірні дані")}},components:{BackBtn:x}}),_e=fe,ye=Object(s["a"])(_e,me,he,!1,null,null,null),ge=ye.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("p",[e._v("Дата початку: "+e._s(e.date))]),n("p",[e._v("Примітки:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.notes,expression:"notes"}],attrs:{type:"text"},domProps:{value:e.notes},on:{input:function(t){t.target.composing||(e.notes=t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onStartRepair}},[e._v("Почати ремонт")])]),n("BackBtn")],1)},be=[],Ie=(n("28a5"),{data:function(){return{clientId:null,repairId:null,date:null,notes:null}},created:function(){this.clientId=this.$route.params.clientId,this.repairId=this.$route.params.repairId;var e=new Date;e=e.toISOString(),e=e.split("T")[0],e=e.replace(/-/g,"."),this.date=e},methods:{onStartRepair:function(){var e=this;this.warn("Завантаження...");var t="clients/".concat(this.clientId,"/repaires/").concat(this.repairId);g.a.database().ref(t).update({status:"На ремонті",startDate:this.date,notes:this.notes}).then(function(){e.success("Ремонт почато"),e.$router.replace("/manager/".concat(e.clientId))},function(t){e.error(t.message)})}},components:{BackBtn:x}}),Te=Ie,ke=Object(s["a"])(Te,we,be,!1,null,null,null),xe=ke.exports;a["default"].use(l["a"]);var $e=new l["a"]({routes:[{path:"/",component:h},{path:"/sign-in",component:P},{path:"/sign-up",component:N},{path:"/client",component:Z},{path:"/client/new-repair",component:K},{path:"/client/my-repairs",component:te},{path:"/manager",component:oe},{path:"/manager/:clientId",component:ve},{path:"/set-repair-type/:clientId/:repairId",component:ge},{path:"/start-repair/:clientId/:repairId",component:xe}]}),Be=n("ee98"),Oe=n.n(Be);a["default"].use(Oe.a);var Ce={apiKey:"AIzaSyC4U1gX8DoZGmywRO2KP4iZDtmeVuGWZ28",authDomain:"machines-5bc18.firebaseapp.com",databaseURL:"https://machines-5bc18.firebaseio.com",projectId:"machines-5bc18",storageBucket:"machines-5bc18.appspot.com",messagingSenderId:"1081596877438"};g.a.initializeApp(Ce),a["default"].config.productionTip=!1,new a["default"]({router:$e,render:function(e){return e(p)}}).$mount("#app")},"6d39":function(e,t,n){"use strict";var a=n("1971"),r=n.n(a);r.a},a6be:function(e,t,n){},cf25:function(e,t,n){"use strict";var a=n("0cfb"),r=n.n(a);r.a}});
//# sourceMappingURL=app.0837a3ae.js.map