(function(e){function t(t){for(var a,s,o=t[0],c=t[1],u=t[2],p=0,d=[];p<o.length;p++)s=o[p],r[s]&&d.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0cfb":function(e,t,n){},1971:function(e,t,n){},"46b4":function(e,t,n){},"477b":function(e,t,n){"use strict";var a=n("46b4"),r=n.n(a);r.a},5121:function(e,t,n){"use strict";var a=n("a6be"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Repair of machines")]),n("router-view"),n("notifications",{attrs:{position:"top right"}})],1)},i=[],s=(n("cf25"),n("2877")),o={},c=Object(s["a"])(o,r,i,!1,null,null,null),u=c.exports,l=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("router-link",{attrs:{to:"/sign-in"}},[e._v("Sign in")]),n("router-link",{attrs:{to:"/sign-up"}},[e._v("Sign up")])],1)},d=[],m=(n("5121"),{}),v=Object(s["a"])(m,p,d,!1,null,null,null),h=v.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("form",[n("p",[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("p",[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onSignIn}},[e._v("Sign in")])])])},g=[],_=(n("a481"),n("251e")),y=n.n(_),w={toast:a["default"].mixin({methods:{success:function(e){this.$notify({title:e,type:"success"})},warn:function(e){this.$notify({title:e,type:"warn"})},error:function(e){this.$notify({title:e,type:"error"})}}})},b={data:function(){return{email:null,password:null}},mixins:[w],methods:{onSignIn:function(){var e=this;this.email&&this.password.length>5&&y.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(){e.success("You are logged in"),e.$router.replace("/client")},function(t){e.error(t.message)})}}},k=b,x=Object(s["a"])(k,f,g,!1,null,null,null),$=x.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.loading?e._e():n("div",[n("form",[n("p",[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:{green:e.isGood.email},attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("p",[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:{green:e.isGood.password},attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("p",[e._v("Password once again")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],class:{green:e.isGood.password2},attrs:{type:"password"},domProps:{value:e.password2},on:{input:function(t){t.target.composing||(e.password2=t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onSignUp}},[e._v("Sign up")])])]),e.loading?n("div",[n("h3",[e._v("Loading...")])]):e._e()])},S=[],O={data:function(){return{loading:!1,email:null,password:null,password2:null,isGood:{email:!1,password:!1,password2:!1}}},watch:{email:function(e){var t=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;this.isGood.email=t.test(e)?1:0},password:function(e){var t=/^(?=.*[0-9]+.*)(?=.*[a-zA-Z]+.*)[0-9a-zA-Z]{6,}$/;this.isGood.password=t.test(e)?1:0,this.isGood.password2=this.isGood.password&&e==this.password2?1:0},password2:function(e){this.isGood.password2=this.isGood.password&&this.password==e?1:0}},mixins:[w],methods:{onSignUp:function(){var e=this;this.isGood.email&&this.isGood.password&&this.isGood.password2&&(this.loading=!0,y.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(){e.success("You are registered"),e.$router.replace("/")},function(t){e.error(t.message),e.loading=!1}))}}},C=O,j=(n("6d39"),Object(s["a"])(C,P,S,!1,null,null,null)),B=j.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("router-link",{staticClass:"sign-btn",attrs:{to:"/client/new-repair"}},[e._v("Ask for repair")]),n("router-link",{staticClass:"sign-btn",attrs:{to:"/client/my-repairs"}},[e._v("My tasks")])],1),n("div",{attrs:{id:"right-bottom-btn"},on:{click:e.onSignOut}},[e._v("Sign out")])])},E=[],G={data:function(){return{}},methods:{onSignOut:function(){var e=this;y.a.auth().signOut().then(function(){e.$notify({title:"You are logged out",type:"success"}),e.$router.replace("/")},function(t){e.$notify({title:t.message,type:"error"})})}}},N=G,D=Object(s["a"])(N,I,E,!1,null,null,null),R=D.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("p",[e._v("Країна-виробник")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.country,expression:"country"}],attrs:{type:"text"},domProps:{value:e.country},on:{input:function(t){t.target.composing||(e.country=t.target.value)}}}),n("p",[e._v("Рік випуску")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],attrs:{type:"number",min:"1980"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),n("p",[e._v("Марка")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.mark,expression:"mark"}],attrs:{type:"text"},domProps:{value:e.mark},on:{input:function(t){t.target.composing||(e.mark=t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onDone}},[e._v("Готово")])]),n("BackBtn")],1)},A=[],U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"right-bottom-btn"},on:{click:e.onBack}},[e._v("Back")])},L=[],W={methods:{onBack:function(){this.$router.go(-1)}}},T=W,Y=(n("477b"),Object(s["a"])(T,U,L,!1,null,null,null)),Z=Y.exports,z={data:function(){return{country:null,year:null,mark:null,uId:null,email:null}},mixins:[w],created:function(){var e=y.a.auth().currentUser;e&&(this.uId=e.uid,this.email=e.email)},methods:{onDone:function(){var e=this;this.country&&this.year&&this.mark?(this.success("Loading..."),y.a.database().ref("clients/"+this.uId).once("value",function(t){var n={country:e.country,year:e.year,mark:e.mark};t.val()?e.pushRepair(n):y.a.database().ref("clients/"+e.uId).set({email:e.email}).then(function(){e.pushRepair(n)},function(t){e.error(t.message)})})):this.warn("Data is incorrect")},pushRepair:function(e){var t=this;y.a.database().ref("clients/"+this.uId+"/machines").push().set(e).then(function(){t.$router.replace("/client"),t.success("Done")},function(e){t.error(e.message)})}},components:{BackBtn:Z}},J=z,K=Object(s["a"])(J,M,A,!1,null,null,null),V=K.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},e._l(e.machines,function(t,a){return n("div",{key:a},[n("h4",[e._v("Machine:")]),n("p",[e._v("Country: "+e._s(t.country))]),n("p",[e._v("Year: "+e._s(t.year))]),n("p",[e._v("Mark: "+e._s(t.mark))]),n("p",[e._v("Status: "+e._s(e.getStatus(t)))]),t.repair?n("div",[n("p",[e._v("Repair name: "+e._s(t.repair.name))]),n("p",[e._v("Duration: "+e._s(t.repair.duration)+" days")]),n("p",[e._v("Price: "+e._s(t.repair.price)+"$")]),t.repair.notes?n("p",[e._v("Notes: "+e._s(t.repair.notes))]):e._e(),n("div",{staticClass:"sign-btn"},[e._v("Agree")])]):e._e(),n("hr")])}),0),n("BackBtn")],1)},q=[],F={data:function(){return{machines:[]}},mixins:[w],created:function(){var e=this;this.success("Loading..."),y.a.auth().onAuthStateChanged(function(t){y.a.database().ref("clients/"+t.uid+"/machines").once("value",function(t){var n=t.val(),a=[];for(var r in n)a.push(n[r]);e.machines=a,e.success("Done")})})},methods:{getStatus:function(e){return e.repair?"Processed":"Waiting for the manager"}},components:{BackBtn:Z}},H=F,Q=Object(s["a"])(H,X,q,!1,null,null,null),ee=Q.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h4",[e._v("Clients:")]),e._l(e.clients,function(t,a){return n("router-link",{key:a,staticClass:"sign-btn",attrs:{to:"/manager/"+t.id}},[e._v(e._s(t.email))])})],2)},ne=[],ae={data:function(){return{clients:[]}},created:function(){var e=this;y.a.database().ref("clients").once("value",function(t){var n=t.val(),a=[];for(var r in n)a.push({id:r,email:n[r].email});e.clients=a})}},re=ae,ie=Object(s["a"])(re,te,ne,!1,null,null,null),se=ie.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("h3",[e._v("User: "+e._s(e.email))]),n("h3",[e._v("Repairs:")]),e._l(e.machines,function(t,a){return n("div",{key:a},[n("hr"),n("h4",[e._v("Machine:")]),n("p",[e._v("Country: "+e._s(t.country))]),n("p",[e._v("Year: "+e._s(t.year))]),n("p",[e._v("Mark: "+e._s(t.mark))]),n("p",[e._v("Status: "+e._s(t.status))]),t.repair?n("div",[n("p",[e._v("Repait name: "+e._s(t.repair.name))]),n("p",[e._v("Duration: "+e._s(t.repair.duration)+" days")]),n("p",[e._v("Price: "+e._s(t.repair.price)+"$")]),t.repair.notes?n("p",[e._v("Notes: "+e._s(t.repair.notes))]):e._e()]):e._e(),n("router-link",{staticClass:"sign-btn",attrs:{to:"/set-repair-type/"+e.$route.params.client+"/"+t.id}},[e._v("Set repair type")])],1)})],2),n("BackBtn")],1)},ce=[],ue={data:function(){return{machines:[],email:null}},mixins:[w],created:function(){var e=this;this.success("Loading...");var t=this.$route.params.client;y.a.database().ref("clients/"+t).once("value",function(t){var n=t.val();for(var a in e.email=n.email,e.machines=[],n.machines){var r=void 0;r=n.machines[a].repair?"Waiting for the client's agreement":"Waiting for the manager",e.machines.push({id:a,country:n.machines[a].country,year:n.machines[a].year,mark:n.machines[a].mark,repair:n.machines[a].repair,status:r})}})},components:{BackBtn:Z}},le=ue,pe=Object(s["a"])(le,oe,ce,!1,null,null,null),de=pe.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("p",[e._v("Machine:")]),n("h4",[e._v(e._s(e.machine.country))]),n("h4",[e._v(e._s(e.machine.year))]),n("h4",[e._v(e._s(e.machine.mark))]),n("hr"),n("p",[e._v("* Repair name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repair.name,expression:"repair.name"}],attrs:{type:"text"},domProps:{value:e.repair.name},on:{input:function(t){t.target.composing||e.$set(e.repair,"name",t.target.value)}}}),n("p",[e._v("* Duration (days):")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repair.duration,expression:"repair.duration"}],attrs:{type:"number"},domProps:{value:e.repair.duration},on:{input:function(t){t.target.composing||e.$set(e.repair,"duration",t.target.value)}}}),n("p",[e._v("* Price ($):")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repair.price,expression:"repair.price"}],attrs:{type:"number"},domProps:{value:e.repair.price},on:{input:function(t){t.target.composing||e.$set(e.repair,"price",t.target.value)}}}),n("p",[e._v("Notes:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repair.notes,expression:"repair.notes"}],attrs:{type:"text"},domProps:{value:e.repair.notes},on:{input:function(t){t.target.composing||e.$set(e.repair,"notes",t.target.value)}}}),n("div",{staticClass:"sign-btn",on:{click:e.onSetRepairType}},[e._v("Done")])]),n("BackBtn")],1)},ve=[],he=(n("7f7f"),{data:function(){return{clientId:null,machineId:null,machine:{country:null,year:null,mark:null},repair:{name:null,duration:null,price:null,notes:null}}},created:function(){var e=this;this.clientId=this.$route.params.client,this.machineId=this.$route.params.machine;var t="clients/"+this.clientId+"/machines/"+this.machineId;y.a.database().ref(t).once("value",function(t){e.machine=t.val()})},methods:{onSetRepairType:function(){var e=this;if(this.repair.name&&this.repair.duration&&this.repair.price){this.success("Loading...");var t="clients/"+this.clientId+"/machines/"+this.machineId+"/repair";y.a.database().ref(t).set(this.repair).then(function(){e.success("Done")},function(t){e.error(t.message)})}else this.error("Incorrect data")}},components:{BackBtn:Z}}),fe=he,ge=Object(s["a"])(fe,me,ve,!1,null,null,null),_e=ge.exports;a["default"].use(l["a"]);var ye=new l["a"]({routes:[{path:"/",component:h},{path:"/sign-in",component:$},{path:"/sign-up",component:B},{path:"/client",component:R},{path:"/client/new-repair",component:V},{path:"/client/my-repairs",component:ee},{path:"/manager",component:se},{path:"/manager/:client",component:de},{path:"/set-repair-type/:client/:machine",component:_e}]}),we=n("ee98"),be=n.n(we);a["default"].use(be.a);var ke={apiKey:"AIzaSyC4U1gX8DoZGmywRO2KP4iZDtmeVuGWZ28",authDomain:"machines-5bc18.firebaseapp.com",databaseURL:"https://machines-5bc18.firebaseio.com",projectId:"machines-5bc18",storageBucket:"machines-5bc18.appspot.com",messagingSenderId:"1081596877438"};y.a.initializeApp(ke),a["default"].config.productionTip=!1,new a["default"]({router:ye,render:function(e){return e(u)}}).$mount("#app")},"6d39":function(e,t,n){"use strict";var a=n("1971"),r=n.n(a);r.a},a6be:function(e,t,n){},cf25:function(e,t,n){"use strict";var a=n("0cfb"),r=n.n(a);r.a}});
//# sourceMappingURL=app.207f7a60.js.map